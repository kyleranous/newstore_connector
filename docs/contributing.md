# API Toolkit Contribution Guide

## TOC
 - [General Guidelines](#general-guidelines)
 - [New API Modules](#new-api-modules)
 - [Versioning](#versioning)
 - [Testing Requirements](#testing-requirements)

## General Guidelines
1. Create a new Feature Branch off the correct version branch. See [Versioning](#versioning).
2. Feature Branch should be named: `iss[#]-[Feature Name]-[Proposed Version]`. `iss[#]` can be ommited if this feature is not related to an issue, however will be a low priority for PRs.
3. Make updates on the branch
4. Add unit tests for new / changed feature. Unit Tests most have a minimum 90% code coverage. See [Testing Requirements](#testing-requirements)
5. Push to the repo and create a PR into the appropriate version Branch.
6. Feature branches will be deleted once pulled into their parent branch.


## New API Modules
Guidelines for creating new API Modules:

1. All API Module files should be contained in their own directory titled by the handler property and the API version.
2. Module docstring must contain link to the NewStore documentation for the specific API
3. All API Module classes must extend `ns_api_base_class.NewStoreAPIBase`
```python
class OrderNotesV010(NewStoreAPIBase)
```
4. All API Module classes must contain a CLASS veriable called `api_version` that holds a string of the API version it connects to. Ommit v at the start of the version
5. `NewStoreAPIBase.__init__()` should not be overwritten unless additional properties are needed.
6. All method docstrings must contain a link to the specific Endpoints NewStore documentation
7. Update NewStoreConnector with the new handler property. Follow existing logic to determine getter and setters.
8. Update `docs/newstore_connector.md` Modules section to contain a link to the new Module documentation.
9. Create the new module documentation using existing documentation as a template.
10. Ensure all new and existing tests pass and that code coverage requirements are met. See [Testing Requirements](#testing-requirements)


## Versioning
We use [Semantic Versioning](https://semver.org/) for this project.

Versioning is done by `[MAJOR]-[Minor]-[patch]`:
- **MAJOR** changes would render ANY of the previous code obsolete.
- **Minor** changes would be used to add any new functionality with out effecting existing functionality
- **patch** changes would be used to fix any existing functionality that does not add any new features or make existing deployed code obsolete. This could include minor bug fixes, documentation updates, or updates to existing unit tests.

## Testing Requirements
The following rules must be followed for all new Features or Bug Fixes
- All Unit Tests must pass. Including existing tests
- Tests must have a minimum 90% Code Coverage for each module. This is calculated using `coverage`
```bash
$ coverage run -m pytest
...
$ coverage report
```
A detailed HTML report can be generated by running `coverage html` which will show which lines of code are and are not covered when running pytest.
